(this.webpackJsonpemployees_dob=this.webpackJsonpemployees_dob||[]).push([[0],{10:function(e,t,n){e.exports={wrapper:"Preloader_wrapper__32B-I",dot:"Preloader_dot__1NzM-",dots:"Preloader_dots__sMr1h"}},12:function(e,t,n){e.exports={App:"App_App__3CEVC",tableContainer:"App_tableContainer__3f1Bh"}},15:function(e,t,n){e.exports={listContainer:"EmployeesByLetter_listContainer__dSIvD",letter:"EmployeesByLetter_letter__N8kbm"}},16:function(e,t,n){e.exports={info:"Employee_info__2mkTt",employeesColor:"Employee_employeesColor__plhlR"}},29:function(e,t,n){e.exports={container:"SelectedEmploees_container__2r0YQ"}},35:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(8),i=n.n(c),o=(n(35),n(12)),s=n.n(o),l=n(4),p=n(5),u=n(14),d=n.n(u),j=n(27),y=n(9),m=n(2),b=n(28),O=n.n(b),v=function(){return O.a.get("https://yalantis-react-school-api.yalantis.com/api/task0/users")},f=n(17),h=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x="employeesActivity",E=function(e){var t=e.slice().sort((function(e,t){return e.lastName.toLowerCase()>t.lastName.toLowerCase()?1:-1}));return[].concat(Object(f.a)(_.slice((new Date).getMonth())),Object(f.a)(_.slice(0,(new Date).getMonth()))).map((function(e){return{month:e,arr:t.filter((function(t){return new Date(t.dob).toDateString().slice(4,7).toLowerCase()===e.toLowerCase()}))}}))},A="SET_EMPLOYEES",N="SET_EMPLOYEES_ACTIVITY",C="SET_ONE_EMPLOYEE_ACTIVITY",g="SET_ALL_EMPLOYEES_UN_ACTIVE",S={employees:void 0,employeesActivity:{}},w=function(e){return{type:A,payload:e}},L=function(e){return{type:N,payload:e}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return Object(m.a)(Object(m.a)({},e),{},{employees:t.payload});case N:return Object(m.a)(Object(m.a)({},e),{},{employeesActivity:t.payload});case C:return Object(m.a)(Object(m.a)({},e),{},{employeesActivity:Object(m.a)(Object(m.a)({},e.employeesActivity),{},Object(y.a)({},t.payload.employeeId,t.payload.state))});case g:return Object(m.a)(Object(m.a)({},e),{},{employeesActivity:Object.keys(e.employeesActivity).reduce((function(e,t){return e[t]=!1,e}),{})});default:return e}},I=n(15),M=n.n(I),T=n(16),k=n.n(T),P=n(0),Y=function(e){var t=e.data,n=e.active,a=e.onActivityChange;return Object(P.jsxs)("div",{children:[Object(P.jsx)("div",{className:k.a.info,children:Object(P.jsxs)("span",{className:n?k.a.employeesColor:void 0,children:[t.firstName," ",t.lastName]})}),Object(P.jsxs)("div",{children:[Object(P.jsx)("input",{type:"radio",name:t.id,onChange:function(){a(!0)},value:"active",checked:n}),"active",Object(P.jsx)("input",{type:"radio",name:t.id,onChange:function(){a(!1)},value:"unactive",checked:!n}),"not active"]})]})},J=function(e){var t=e.data,n=e.employeesActivity,a=e.setOneEmployeeActivity;return Object(P.jsxs)("div",{className:M.a.listContainer,children:[Object(P.jsx)("h3",{className:M.a.letter,children:t.letter}),0!==t.arr.length?Object(P.jsx)("div",{children:t.arr.map((function(e){var t=e.id,r=n[t]||!1;return Object(P.jsx)(Y,{data:e,active:r,onActivityChange:function(e){return a(t,e)}},t)}))}):Object(P.jsx)("div",{children:"No employees"})]})},B=n(10),V=n.n(B),U=function(){return Object(P.jsxs)("div",{className:V.a.wrapper,children:[Object(P.jsx)("span",{className:V.a.dot}),Object(P.jsx)("div",{className:V.a.dots})]})},F=function(e){var t,n=e.employees,r=e.employeesActivity,c=e.getDataEmployees,i=e.setOneEmployeeActivity;return Object(a.useEffect)((function(){c()}),[c]),Object(a.useEffect)((function(){Object.keys(r).length&&localStorage.setItem(x,JSON.stringify(r))}),[r]),Object(P.jsxs)(P.Fragment,{children:[void 0===n&&Object(P.jsx)(U,{}),null===n&&Object(P.jsx)("div",{children:"There is an error"}),n&&(t=n,h.map((function(e){return{letter:e,arr:t.filter((function(t){return t.firstName[0].toLowerCase()===e.toLowerCase()}))}}))).map((function(e){return Object(P.jsx)(J,{data:e,employeesActivity:r,setOneEmployeeActivity:i},e.letter)}))]})},R=Object(p.b)((function(e){return{employees:e.dataState.employees,employeesActivity:e.dataState.employeesActivity}}),{getDataEmployees:function(){return function(){var e=Object(j.a)(d.a.mark((function e(t){var n,a,r,c,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:n=e.sent,o=n.data,a=o.slice().sort((function(e,t){return e.firstName.toLowerCase()>t.firstName.toLowerCase()?1:-1})),t(w(a)),c=localStorage.getItem(x),i=c&&JSON.parse(c),r=n.data.reduce((function(e,t){var n=t.id;return e[n]=i&&i[n]||!1,e}),{}),t(L(r)),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),t(w(null));case 15:case"end":return e.stop()}var o}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}()},setOneEmployeeActivity:function(e,t){return{type:C,payload:{employeeId:e,state:t}}}}),X=Object(l.c)(R)(F),Q=function(e){var t=e.sortData;return Object(P.jsx)(P.Fragment,{children:t.map((function(e){return Object(P.jsxs)("div",{children:[Object(P.jsxs)("span",{children:[e.lastName," ",e.firstName]}),"\xa0",Object(P.jsx)("span",{children:new Date(e.dob).toDateString().slice(4,e.dob.length)})]},e.id)}))})},z=n(29),G=n.n(z),H=function(e){var t=e.employees,n=e.employeesActivity,a=e.setAllEmployeesUnActive;return Object(P.jsxs)("div",{className:G.a.container,children:[Object(P.jsx)("h3",{children:"Employees birthday"}),t&&0!==t.filter((function(e){return n[e.id]})).length&&E(t.filter((function(e){return n[e.id]}))).map((function(e){if(0!==e.arr.length)return Object(P.jsxs)("div",{children:[Object(P.jsx)("h5",{children:e.month}),Object(P.jsx)(Q,{sortData:e.arr})]},e.month)}))||Object(P.jsx)("div",{children:"Employees List is empty"}),Object(P.jsx)("button",{disabled:!!t&&0===t.filter((function(e){return n[e.id]})).length,onClick:a,children:"Remove all"})]})},K=Object(p.b)((function(e){return{employees:e.dataState.employees,employeesActivity:e.dataState.employeesActivity}}),{setAllEmployeesUnActive:function(){return{type:g}}}),W=Object(l.c)(K)(H),Z=function(){return Object(P.jsxs)("div",{children:[Object(P.jsx)("h1",{children:"EMPLOYEES"}),Object(P.jsxs)("div",{className:s.a.App,children:[Object(P.jsx)("div",{className:s.a.tableContainer,children:Object(P.jsx)(X,{})}),Object(P.jsx)(W,{})]})]})},q=n(30),$=Object(l.b)({dataState:D}),ee=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.c,te=Object(l.d)($,ee(Object(l.a)(q.a)));i.a.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(p.a,{store:te,children:Object(P.jsx)(Z,{})})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.9818a140.chunk.js.map